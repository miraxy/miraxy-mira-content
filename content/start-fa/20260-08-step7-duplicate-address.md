---
utid: 20260
date: 2017-04-01 14:24:05
title: آدرس‌های تکراری
_index: duplicate address
chapter: 08
chaptername: گام هفتم: شخصی سازی بیشتر
---
همیشه این امکان وجود دارد که دو نوشته شما یک آدرس مشابه به خود بیرند، مخصوصا وقتی که در سیستم آدرس‌دهی برای هر نوشته، به جز تیتر آن هیچ شرط دیگری مثل تاریخ یا دسته بندی و... را ذکر نمی‌کنید، مثل کاری که در این مثال برای انتشار داستان‌ها کردیم.

به هر حال همیشه این احتمال وجود دارد که دو پست آدرس یکسیانی به ود بگیرند، فرض کنیم که در فایل کانفیگ سایت فیلد permalink را به این شکل ساخته باشیم:

	permalink: :year/:month/:day/:title/

و در یک روز دو پست را با این مشخصات نوشته باشیم:
`post1:`

	---
	utid: 20170325151121
	date: 2017/03/25
	title: آزمایش
	_index: test
	category: آموزش
	tags:
	 - یک
	 - دو
	---

`post2:`

	---
	utid: 20170325162308
	date: 2017/03/25
	title: test
	category: learn
	tags:
	 - one
	 - two
	---

هر دو پست دقیقا در یک روز منتشر شده‌اند، اولی _index با مقدار test دارد و دومی هم که index ندارد، از تیتر test استفاده کرده، پس با توجه به مقدار permalink در کانفیگ، آدرس هر دو پست این آدرس خواهد بود:

	/2017/03/25/test/

میرا برای حل این مشکل یک راه حل ساده دارد، اگر با آدرس‌های تکراری مواجه بشود، به ترتیب شماره‌ی utid آن‌ها از کوچک به بزرگ این آدرس‌ها را شماره گذاری می‌کند. پست اول عدد utid کوچک‌تری دارد، آدرس اصلی به آن تعلق می‌گیرد و پست دوم یک اندیس شماره 2 می‌گیرد، پس آدرس پست‌های ما در اصل این‌ها خواهند بود:

	post1: >  /2017/03/25/test/
	post2: >  /2017/03/25/test/2/

در صورتی هم که permalink به جای آدرس خالص، از نام فایل در آن استفاده شده باشد، مثل:

	permalink: :year/:month/:day/:title.html

آدرس‌ها به این صورت ساخته خواهند شد:

	post1: >  /2017/03/25/test.html
	post2: >  /2017/03/25/2/test.html

اما اگر نخواهید میرا برای شما آدرس‌ها را بسازد، مثلا بخواهید به جای 2 از 'second edition' در آدرس استفاده کنید، می‌توانید در هدر همان پست فیلد _permalink ار مقدار دهی کنید، برای مثال میتوانیم دو پست را به این شکل داشته باشیم:

`post1:`

	---
	utid: 20170325151121
	date: 2017/03/25
	title: آزمایش
	_index: test
	category: آموزش
	tags:
	 - یک
	 - دو
	---

`post2:`

	---
	utid: 20170325162308
	date: 2017/03/25
	title: test
	_permalink: :year/:month/:day/:title/second-edition/
	category: learn
	tags:
	 - one
	 - two
	---

یا حتی از یک فرمول به جز فرمول کانفیگ سایت استفاده کنیم:

	_permalink: :category/:title/second-edition/
	یا
	_permalink: :year/second-edition/:title/
	یا
	_permalink: :title/

اگر فایل‌های این مثال را دانلود کرده باشید، در وبلاگ فارسی و داستان، دو مطلب تکراری وجود دارد که آدرس مشابه میگیرند، آن‌ها را هر طور که دوست دارید اصلاح کنید.
